<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
		"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>

	<query name="AvaliacaoClinica.recuperarPorFuncionario">
		<![CDATA[
			select 
				ac
			from 
				AvaliacaoClinica ac
			where 
				ac.funcionario = :funcionario
			order 
				by ac.dataRealizacao
		]]>
	</query>
	
	<query name="AvaliacaoClinica.recuperarProcedimentosPorAvaliacaoClinica">
		<![CDATA[
			select 
				distinct(p)
			from 
				AvaliacaoClinica ac
			right join
				ac.procedimentos acp
			inner join 
				acp.procedimento p
			where 
				ac = :avaliacaoClinica
			order 
				by p.nome
		]]>
	</query>

</hibernate-mapping>