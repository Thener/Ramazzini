<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:f="http://java.sun.com/jsf/core"
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:p="http://primefaces.org/ui"
   template="/WEB-INF/templates/default.xhtml">
   
   <ui:define name="content" prependId="false">
   
   		<p:growl id="messages" showDetail="false" sticky="false" />
   		
   		<p:panel id="panelAgenda" header="#{msgs['label.agenda']}">
   		
   			<h:form id="frmAgenda">
   			
   				<h:panelGrid columns="6" cellpadding="5">
   				
	       			<p:outputLabel for="dataAgenda" value="#{msgs['label.data']}" />
	       			<p:calendar id="dataAgenda" value="#{marcacaoAgendaController.dataSelecionada}" 
	       				pattern="#{msgs['pattern.calendar']}" mask="true" styleClass="data" required="false">
	       				<p:ajax event="dateSelect" update="frmAgenda" listener="#{marcacaoAgendaController.onChangeDataSelecionada}" />
	       			</p:calendar> 
	       				
	       			<p:outputLabel value="#{marcacaoAgendaController.diaSemana}" />   
	       			
					<p:commandButton 
						id="botaoIncluirAgendamento" icon="ui-icon-circle-plus" 
						title="#{msgs['botao.incluirAgendamento']}"
						actionListener="#{marcacaoAgendaController.incluirAgendamento()}" 
						onclick="PF('dialogEditarAgendamento').show();" 
						update=":frmDialogEditarAgendamento" />	       						
						
					<p:outputLabel for="situacaoMarcacaoAgenda" value="#{msgs['label.situacao']}:" />
					<p:selectOneMenu id="situacaoMarcacaoAgenda"
						value="#{marcacaoAgendaController.situacaoMarcacaoAgenda}">
						<f:selectItem itemLabel="#{msgs['label.todasAsSituacoes']}" itemValue=""
							noSelectionOption="true" />						
						<f:selectItems value="#{combosEstaticos.situacoesMarcacaoAgenda}" var="sitMarcacao"
							itemLabel="#{sitMarcacao.stringChave}" itemValue="#{sitMarcacao.value}" />
						<p:ajax event="change" update="frmAgenda" listener="#{marcacaoAgendaController.onChangeSituacaoMarcacaoAgenda}" />
					</p:selectOneMenu>
   			
   				</h:panelGrid>
   				
   				<ui:include src="includes/gridAgendamentos.xhtml" />
   				
   			</h:form>
   			
   		</p:panel>
   		
   		<ui:include src="includes/dialogEditarAgendamento.xhtml" />

	</ui:define>
	
</ui:composition>