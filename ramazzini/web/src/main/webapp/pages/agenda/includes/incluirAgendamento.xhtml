<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:f="http://java.sun.com/jsf/core"
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:p="http://primefaces.org/ui">

	<p:fieldset legend="#{msgs['label.agendar']}">   
		
		<h:form id="frmIncluirAgendamento">

			<h:panelGrid columns="2" cellpadding="5">
			
				<p:outputLabel value="#{msgs['label.empresa']}: " for="completeEmpresa" />
				<p:autoComplete id="completeEmpresa"
					value="#{marcacaoAgendaController.empresaSelecionada}"
					completeMethod="#{autoComplete.completeEmpresa}"
					var="empresa" itemLabel="#{empresa.nome}"
					itemValue="#{empresa}" converter="entityConverter"
					forceSelection="true" styleClass="nome50">
					
					<p:ajax event="itemSelect" process="@this"/>
				</p:autoComplete>	
					
				<p:outputLabel value="#{msgs['label.funcionario']}: " for="completeFuncionario" />
				<p:autoComplete id="completeFuncionario"
					value="#{marcacaoAgendaController.agenda.funcionario}"
					completeMethod="#{autoComplete.completeFuncionario}"
					var="funcionario" itemLabel="#{funcionario.nome}"
					itemValue="#{funcionario}" converter="entityConverter"
					forceSelection="true" styleClass="nome50">
					<f:attribute name="empresaSelecionada" value="#{marcacaoAgendaController.empresaSelecionada}" />
				</p:autoComplete>
				
				<p:outputLabel value="#{msgs['label.procedimento']}: " for="completeFuncionario" />
				<p:selectOneMenu id="procedimentoSelecionado"
					value="#{marcacaoAgendaController.agenda.procedimento}"
					converter="entityConverter" styleClass="nome50">
					<f:selectItem itemLabel="#{msgs['label.selecione']}" itemValue=""
						noSelectionOption="true" />
					<f:selectItems value="#{combosDinamicos.procedimentosTipoExameClinicoOcupacional}" var="procedimento"
						itemLabel="#{procedimento.nome}" />
				</p:selectOneMenu>
										
			</h:panelGrid>		

		</h:form>	    
	    
	</p:fieldset>	
	
	
</ui:composition>