<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:f="http://java.sun.com/jsf/core"
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:p="http://primefaces.org/ui">
   
	<h:form id="formLateral">
	
		<p:calendar value="#{marcacaoAgendaController.dataSelecionada}" mode="inline">
			<p:ajax event="dateSelect" update=":frmHorarios, listaMedicos" 
				listener="#{marcacaoAgendaController.onChangeDataSelecionada()}" />
		</p:calendar>
		
        <p:selectOneListbox id="listaMedicos" filter="true" filterMatchMode="contains"
        	value="#{marcacaoAgendaController.profissionalSelecionado}" 
        	converter="entityConverter" var="profissionalSelecionado"
        	style="height: 260px; width: 96%;">
        	
            <f:selectItems value="#{marcacaoAgendaController.profissionaisDisponiveis}" var="profissional" 
            	itemLabel="#{profissional.nome}" itemValue="#{profissional}" />

            <p:column>
                <h:outputText styleClass="agendaMarcadorProfissional" />
            </p:column>
            
            <p:column>
                <h:outputText value="#{profissionalSelecionado.nome}" />
            </p:column>
            
			<p:ajax event="click" update=":frmHorarios, :messages" 
        		listener="#{marcacaoAgendaController.onChangeProfissionalSelecionado()}" />
                    
        </p:selectOneListbox>
        		
	</h:form>
	
	
</ui:composition>